{% extends '_default/page.html.twig' %}

{% from '_macros/posts.twig' import post_card  %}

{% set has_overlay = false %}
{% set posts = site.pages.showable|filter_by('section', 'posts')|sort_by_date(desc_title=true) %}

{% block content %}
    <section class="prose">
        <h2 class="mb-4">{{ page.title }}</h2>

        <div class="text-lg text-gray-700 mb-4">
            {{ page.content }}
        </div>

        <div class="flex justify-start space-x-4 mt-8 text-gray-700">
            <img src="https://www.svgrepo.com/show/504388/github.svg" alt="GitHub" class="h-8">
            <img src="https://www.svgrepo.com/show/504546/linkedin.svg" alt="LinkedIn" class="h-8">
        </div>
    </section>

    <section class="mt-24 flex flex-col space-y-8">
        <h2 class="text-2xl mb-10 border-b">Derniers articles</h2>

        <section class="flex flex-col space-y-4">
            {%- for post in posts|slice(0, 5) %}
                <a href="{{ post|url }}" class="no-overlay">
                    {{ post_card(post) }}
                </a>
            {% endfor %}
        </section>
    </section>

    {% if posts|length > 5 %}
        <div class="mt-6 flex justify-end">
            <button class="bg-black text-white py-2 px-6 rounded-full">Voir les posts plus anciens</button>
        </div>
    {% endif %}
{% endblock %}
